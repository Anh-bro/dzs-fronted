import{_ as C,u as x,U as v,V as E,W as k,X as N,o as h,j as g,H as z,w as l,I as S,J as P,a as o,b as _,t as V,h as B,Y as O,Z as T,$ as j,O as A,P as L,S as I}from"./index-a735f570.js";/* empty css                    *//* empty css                        *//* empty css                 */const q={data(){const t=x();return{originalindex:{},loading:!1,totalPage:0,pageSize:4,noteData:[{date:"2016-05-02",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"},{date:"2016-05-04",name:"王小虎",address:"上海市普陀区金沙江路 1517 弄"},{date:"2016-05-01",name:"王小虎",address:"上海市普陀区金沙江路 1519 弄"},{date:"2016-05-03",name:"王小虎",address:"上海市普陀区金沙江路 1516 弄"}],tableData:[],search:"",aid:t.aid}},mounted(){this.fetchNote()},methods:{async fetchNote(){this.loading=!0,await v().then(a=>{console.log(a),this.noteData=a.data,this.totalPage=a.data.length,this.tableData=this.noteData.slice(0,this.pageSize),console.log(a.data)}),await E().then(a=>{console.log(a),this.originalindex=a.data});for(var t=new Array,e=0;e<this.originalindex.length;e++)t[this.originalindex[e].id]=this.originalindex[e].name;for(var e=0;e<this.noteData.length;e++)this.noteData[e].title=t[this.noteData[e].aid];console.log(this.noteData),this.loading=!1},handleEdit(t,e){console.log(t,e)},jumptotitle(t){console.log(this.noteData[t].aid),this.$router.push({name:"read",query:{aid:this.noteData[t].aid}})},async handleDelete(t){console.log(this.tableData[t].orderid),await k({aid:this.tableData[t].aid,orderid:this.tableData[t].orderid}).then(e=>{console.log(e),this.tableData.forEach(function(a,d,n){d==t&&n.splice(t,1),N({title:"提示",message:"笔记删除成功！",type:"success"})})})},onCurrentChange(t){console.log(t),this.pageNum=t,t*this.pageSize>this.noteData.length?this.tableData=this.noteData.slice((t-1)*this.pageSize):this.tableData=this.noteData.slice((t-1)*this.pageSize,t*this.pageSize),console.log(this.tableData)}}};function H(t,e,a,d,n,s){const p=I,c=B,r=O,u=T,m=j,f=A,D=L,y=S,b=P;return n.noteData.length==0?(h(),g(p,{key:0,description:"暂无笔记",style:{"flex-grow":"1"}})):z((h(),g(y,{key:1},{default:l(()=>[o(D,{style:{"overflow-x":"hidden"},span:24},{default:l(()=>[o(f,null,{default:l(()=>[o(u,{data:n.tableData.filter(i=>!n.search||i.name.toLowerCase().includes(n.search.toLowerCase())),style:{width:"100%"}},{default:l(()=>[o(r,{label:"Title",prop:"title",width:"150px"},{default:l(i=>[o(c,{link:"",type:"primary",size:"small",onClick:w=>s.jumptotitle(i.$index)},{default:l(()=>[_(V(i.row.title),1)]),_:2},1032,["onClick"])]),_:1}),o(r,{label:"Content",prop:"content"}),o(r,{label:"Operations",width:"150px"},{default:l(i=>[o(c,{link:"",type:"primary",size:"small",onClick:w=>s.handleDelete(i.$index)},{default:l(()=>[_("Delete")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),o(m,{background:"",layout:"prev, pager, next",total:n.totalPage,"page-size":4,onCurrentChange:s.onCurrentChange},null,8,["total","onCurrentChange"])]),_:1})]),_:1})]),_:1})),[[b,n.loading]])}const X=C(q,[["render",H]]);export{X as default};
